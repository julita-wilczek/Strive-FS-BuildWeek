<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
  <title>Layout Template</title>


</head>

<body>


  <!-- Main Container -->

  <div class="container">

    <div class="row" style="position: relative;">



      <!-- Side Bar Wrapper-->

      <div class="col d-none d-sm-block col-sm-4 col-lg-2 full-screen-height p-0" >

        <div class="sidebar-div  d-flex flex-column">

          <img id="logo-top" class="img-fluid" src="https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_RGB_White.png" alt="">

          <div class="side-icons">
            <div class="hover-effect d-flex ">
              <svg class="svg-top" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                class="bi bi-house-door-fill" viewBox="0 0 16 16">
                <path
                  d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z" />
              </svg>

              <p>Home</p>
            </div>

            <div class="hover-effect d-flex ">
              <svg class="svg-top" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                class="bi bi-search" viewBox="0 0 16 16">
                <path
                  d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
              </svg>

              <p>Search</p>
            </div>

            <div class=" hover-effect d-flex ">
              <svg class="svg-top" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                class="bi bi-collection" viewBox="0 0 16 16">
                <path
                  d="M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13z" />
              </svg>

              <p>Your Library</p>
            </div>
          </div>

          <div class="linked-songs">
            <div class="hover-effect d-flex ">
              <svg class="svg-top" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                class="bi bi-plus-square-fill" viewBox="0 0 16 16">
                <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3a.5.5 0 0 1 1 0z" />
              </svg>

              <p>Create Playlist</p>

            </div>

            <div class="hover-effect d-flex ">
              <div class="like-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor"
                  class="bi bi-heart-fill" viewBox="0 0 16 16">
                  <path fill-rule="evenodd"
                    d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z" />
                </svg>
              </div>

              <p>Liked Songs</p>
            </div>
            <div class="border-like"></div>
          </div>
          <div class="scrollbar">
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <div class="group-side-p d-flex">
              <p class="side-p">Some text here to try truncate</p>
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-people">
                <path
                  d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" />
              </svg>
              </svg>
            </div>
            <div class="group-side-p d-flex">
              <p class="side-p">Some text here to try truncate</p>
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-people">
                <path
                  d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" />
              </svg>
              </svg>
            </div>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here</p>
            <div class="group-side-p d-flex">
              <p class="side-p">Some text here</p>
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-people">
                <path
                  d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" />
              </svg>
              </svg>
            </div>
            <p class="side-p">Some text here </p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here </p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here to try truncate</p>
            <p class="side-p">Some text here</p>
            <p class="side-p">Some text here to try truncate</p>
          </div>
          <button class="install d-flex">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-arrow-down-circle" viewBox="0 0 16 16">
              <path fill-rule="evenodd"
                d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z" />
            </svg>

            <span>Install App</span>
          </button>
        </div>


      </div>



      <!-- Main Content Wrapper-->

      <main class="col full-screen-height d-flex flex-column">



        <!-- Navigation-->

          <div id="top-nav" class="d-none d-sm-block">
            <nav class="navbar">
                
                  <ul class="nav">
                    <li class="nav-item position-relative">
                      <a class="nav-link position-relative" href="/artist.html"><i class="bi bi-chevron-left"></i></a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link text-center position-relative" href="/album.html"><i class="bi bi-chevron-right" ></i></a>
                    </li>
                  </ul>
                  
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                <img src="/media/profile-picture.jpg" style="width: 20px">
                                <span class="text-truncate">Miss Beaver</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end" aria-labelledby="dropdownMenuButton">
                              <li><a class="dropdown-item" href="#">Account <span><i class="bi bi-box-arrow-up-right"></i></span></a></li>
                              <li><a class="dropdown-item" href="#">Profile</a></li>
                              <li><a class="dropdown-item" href="#">Log-out</a></li>
                            </ul>
        
                          </div>
</nav>
</div>
    
        <!-- Main Content -->

      </main>



      <!-- Media Player -->

      <div id="media-player"> 
        
        <div class="row mt-2">
    
          <div class="col-4 d-flex" style="color: white;">
            <div class="position-fixed bottom-15 start-50 translate-middle-x" style="z-index: 11">
              <div id="liveToast" class="toast bg-primary rounded-7 text-center fs-6" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="2000">
                <div class="toast-body">
                  Added to your liked songs
                </div>
              </div>
            </div>
            <div class="position-fixed bottom-15 start-50 translate-middle-x" style="z-index: 20">
              <div id="liveToast2" class="toast bg-primary rounded-7 text-center fs-6" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="2000">
                <div class="toast-body">
                  Song removed
                </div>
              </div>
            </div>
          <img src="media/maneskin-cover.jpg"> 
            <div class="d-flex flex-column mx-3 justify-content-end">
              <h6 style ="font-weight: 500; margin-bottom: 0px;" id="album">ZITTI E BUONI</h6>
              <p style="font-size:small; margin-top: 0px" id="artist">Måneskin</p>      
            </div>
            
            <h6 id="heart-container" style="margin-top:35px; margin-right: 10px;" onclick="changeHeart()"><i id="heart" class="bi bi-heart"></i></h6>
            <h6 style="margin-top:35px"><a href=""><i class="bi bi-pip"></i></a></h6>
            
              
    
      
          </div>
          
          <div class="col-4 mt-3">
            <div class="d-flex justify-content-center align-items-center position-relative">
              
              <h5 style="margin-right: 20px; font-size: 14px" class="position-relative fs-6" onclick="changeShuffle()"><div style="position: absolute; top:-5px; left: 4px;" id="shuffleDot" class="invisible"><h2>.</h2></div><i class="bi bi-shuffle"></i>
              </h5>
              <h4 style="margin-right: 20px;"><a href=""><i class="bi bi-skip-start-fill"></i></a>
              </h4>
              <h2 style="margin-right: 20px;"><i class="bi bi-play-circle-fill" id="media-player-play" onclick="pressPlay()"></i>
              </h2>
  
              <h4 style="margin-right: 20px;"><a href=""><i class="bi bi-skip-end-fill"></i></a>
              </h4>
              <h5 class="position-relative" onclick="changeRepeat()"><div style="position: absolute; top:-2px; left: 7px;" id="repeatDot" class="invisible"><h2>.</h2></div><i class="bi bi-arrow-repeat"></i>
              </h5>
            </div>
            <div class="d-flex justify-content-around align-items-center">
              <div style="font-size: small;"><output id="rangevalue">0:00</output> <audio src="/media/music.mp3"></audio>
                </div>
              <div class="slide-container-music px-1" style="margin-top:0px;">
                <input type="range" min="0" max="100" value="0" class="slider timeline" id="music-track" ontimeupdate="rangevalue.value=value"/>
              </div>
              <div style="font-size:small;"> 3:20 </div>
               </div>
          </div>
          <div class="col-4 d-flex justify-content-end">
          
            <h6 style="margin-top:35px; margin-right: 10px;"><a href=""><i class="bi bi-mic"></i></a>
            </h6>
            <h6 style="margin-top:35px; margin-right: 10px;"><a href=""><i class="bi bi-list"></i></a></h6>
            <h6 style="margin-top:35px; margin-right: 10px;"><a href="#" id="speaker" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-container="body" data-bs-placement="top"><i class="bi bi-speaker"></i></a></h6>
            <h4 style="margin-top:30px; margin-right: 10px;"><i class="bi bi-volume-down" id="volume-icon" onclick="muteAudio()"></i></h4>


                <div class="slide-container">
                  <input type="range" min="0" max="100" value="50" class="slider" id="volume-slider" onchange="changeVolume()">
                </div>
                <h6 style="margin-top:35px; margin-left: 10px;"><a href=""><i class="bi bi-arrows-angle-expand"></i></a></h6>
              
              </div>
            
          </div>
        </div>
      

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
  integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
  crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
  integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
  crossorigin="anonymous"></script>
<script>

// This makes the heart change its color and fill

function changeShuffle(){
  let shuffleIconDot = document.getElementById("shuffleDot");
  let shuffleIcon = document.querySelector(".bi-shuffle");

if(shuffleIconDot.classList == 'invisible') {
shuffleIconDot.classList = 'visible';
shuffleIcon.style.color = "#1DB954";
shuffleIcon.style.opacity = "1";
shuffleIconDot.style.color = "#1DB954";
} 
else {
  shuffleIcon.style.color =""
  shuffleIcon.style.opacity = "0.6"
  shuffleIconDot.classList = 'invisible';
  }
}

function changeRepeat(){
  let repeatIconDot = document.getElementById("repeatDot");
  let repeatIcon = document.querySelector(".bi-arrow-repeat");

if(repeatIconDot.classList == 'invisible') {
repeatIconDot.classList = 'visible';
repeatIcon.style.color = "#1DB954";
repeatIcon.style.opacity = "1";
repeatIconDot.style.color = "#1DB954";
} 
else {
  repeatIcon.style.color = ""
  repeatIcon.style.opacity = "0.4"
  repeatIconDot.classList = 'invisible';
  }
}


function changeHeart(){
  let heart = document.querySelector("#heart");
  
  if (heart.classList == "bi bi-heart") {
  heart.classList.replace("bi-heart", "bi-heart-fill");
  heart.style.color = "#1DB954";
  heart.style.animation = "zoomIn 1s";
  
  } else {
  heart.classList.replace("bi-heart-fill", "bi-heart")
  heart.style.color = "#ffffff";
  heart.remove()
  let heartContainer = document.querySelector("#heart-container")
  let heartNew = document.createElement("i")
  heartNew.id = "heart"
  heartNew.classList = "bi bi-heart"
  heartContainer.appendChild(heartNew)
  heartNew.style.animation = "shake 0.3s linear";
}
}

// This changed the volume icon depending on the slider value
function changeVolume() {
  let volume = document.getElementById("volume-slider")
  let icon = document.getElementById("volume-icon")
  if (volume.value == 0) {
  icon.classList = "bi bi-volume-mute";
  } else if (volume.value > 0 && volume.value < 60) {
    icon.classList = "bi bi-volume-down";
  } else {
    icon.classList = "bi bi-volume-up";
  }
}

const audio = document.querySelector('audio'),
timeline = document.querySelector('.timeline');


function muteAudio () {
  audio.muted = !audio.muted;
  let volume = document.getElementById("volume-slider")
  let icon = document.getElementById("volume-icon")
  icon.classList = audio.muted ? "bi bi-volume-mute" : "bi bi-volume-down";
  volume.value = audio.muted ? "0" : "50"
  volume.style.backgroundSize = audio.muted ? "0" : "50%"
  
}

 


function pressPlay() {
  let playButton = document.getElementById("media-player-play")
  if (playButton.classList == "bi bi-play-circle-fill") {
  playButton.classList.replace("bi-play-circle-fill", "bi-pause-circle-fill");
  audio.play()
  } else {
  playButton.classList.replace("bi-pause-circle-fill", "bi-play-circle-fill");
  audio.pause()
}
}

function audioEnded () {
    let playButton = document.getElementById("media-player-play")
    playButton.classList.replace("bi-pause-circle-fill", "bi-play-circle-fill");
}

audio.onended = audioEnded;

function secondsToHMS(s) {
    let m = Math.floor(s/60); // Minutes
    s -= m*60;
    return m +":"+(s < 10 ? '0'+s : s); //zero padding on minutes and seconds
}


function changeTimelinePosition () {
  const percentagePosition = (100*audio.currentTime) / audio.duration;
  timeline.style.backgroundSize = `${percentagePosition}% 100%`;
  timeline.value = percentagePosition;
  let range = document.querySelector("#rangevalue")
  range.innerHTML = secondsToHMS(Math.floor(audio.currentTime));
}


audio.ontimeupdate = changeTimelinePosition;

let volumeSlider = document.getElementById("volume-slider")

function setVolume() {
  volumeSlider.addEventListener("change", function(){
  audio.volume = volumeSlider.value / 100;
  })
  // Set the volume according to the
  // percentage of the volume slider set
}

setVolume()
function changeSeek () {
  const time = (timeline.value * audio.duration) / 100;
  audio.currentTime = time;
}

timeline.addEventListener('change', changeSeek);



// READ BELOW!!!
// At the moment following code attached to heart-container shows proper toast 1 
// when heart is turing to filled but not on the first click


// This enables the first toast on the page load

function fullHeartPop(){
let heart = document.querySelector("#heart");
let element = document.getElementById("liveToast");
let myToast = new bootstrap.Toast(element);
let fullHeart = document.querySelector("#heart.bi-heart-fill");
let element2 = document.getElementById("liveToast2");

heart.addEventListener("click", function(){
        myToast.show();
        myToast2.dispose()
})

}

/*
document.addEventListener("DOMContentLoaded", function(){
    var btn = document.querySelector(".bi-heart");
    var element = document.getElementById("liveToast");

    btn.addEventListener("click", function(){        
        var myToast = bootstrap.Toast.getOrCreateInstance(element);
        // {_element: div#myToast.toast.fade.show, _config: {…}, _timeout: null, _hasMouseInteraction: false, _hasKeyboardInteraction: false}
    });
});

More about toasts:
https://getbootstrap.com/docs/5.1/components/toasts/#hide
https://www.tutorialrepublic.com/twitter-bootstrap-tutorial/bootstrap-toasts.php
*/





/*
function changePop(){
  let heart = document.querySelector("#heart");
  if (heart.classList == "bi bi-heart") {
document.addEventListener("DOMContentLoaded", function(){
let element = document.getElementById("liveToast");
let myToast = new bootstrap.Toast(element);
heart.addEventListener("click", function(){
        myToast.show();
    });
  })
 } else {
document.addEventListener("DOMContentLoaded", function(){
let element2 = document.getElementById("liveToast2");
let myToast2 = new bootstrap.Toast(element2);
heart.addEventListener("click", function(){
        myToast2.show();
        });
})
}
}
/*

/*
There problem here is that I am trying to attach an event to DOM content that does not exist
var iconFill = document.querySelector(".bi-heart-fill")
let element2 = document.getElementById("liveToast2");
let myToast2 = new bootstrap.Toast(element2);
iconFill.addEventListener("click", function(){
        myToast2.show();
        });

})
*/





// This enables the speaker popover
var exampleEl = document.getElementById('speaker')
var popover = new bootstrap.Popover(exampleEl)

document.addEventListener("DOMContentLoaded", function(){
    var element = document.getElementById("speaker");
    var popover = new bootstrap.Popover(element, {
        content: '<div class="text-center"><h4>Connect to a device <span><a href="https://developer.spotify.com/legal/third-party-licenses/#embedded-sdk-third-party-licenses" target="none"><i class="bi bi-question-circle"></i></a></span></h4><img src="/media/popup.png" id="img-popup" /><div>Play and control Spotify on all <br> your devices.</div><div>Start Spotify on another device <br> and it will magically appear here.</div><a href="https://developer.spotify.com/legal/third-party-licenses/#embedded-sdk-third-party-licenses" target="none"><img src="/media/button.png" id="img-button"/></a></div>',
        html: true
    });
});



// This updates the slider
const rangeInputs = document.querySelectorAll('input[type="range"]')
function handleInputChange2(e) {
  let target = e.target
  if (e.target.type !== 'range') {
    target = document.getElementById('range')
  } 
  const min = target.min
  const max = target.max
  const val = target.value
  
  target.style.backgroundSize = (val - min) * 100 / (max - min) + '% 100%'
}
rangeInputs.forEach(input => {
  input.addEventListener('input', handleInputChange2)
})


const musicTrack = document.querySelector('#music-track')

function handleInputChange(e) {
  let target = e.target
  if (e.target.type !== 'range') {
    target = document.getElementById('range')
  } 
  const min = target.min
  const max = target.max
  const val = target.value
  
  target.style.backgroundSize = (val - min) * 100 / (max - min) + '% 100%'
}


audio.ontimeupdate = handleInputChange(musicTrack);


  </script>

  

</body>

</html>